<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>sound-manager test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../dist/bundle.js"></script>
  </head>

  <body>
    <button class="clicky">clicky</button>
    <script>
    const context = new AudioContext();
    const manager = new soundManager.SoundManager();

    const clicky = document.querySelector('.clicky');
    Promise.all([
      manager.addSound(
        'test1',
        {
          url: 'http://www.noiseaddicts.com/samples_1w72b820/280.mp3',
        },
      ),

      manager.addSound(
        'test2',
        {
          url: 'http://www.noiseaddicts.com/samples_1w72b820/271.mp3',
        },
      ),

      manager.addSound(
        'test3',
        {
          url: 'http://www.noiseaddicts.com/samples_1w72b820/272.mp3',
        },
      ),
    ]).then((sounds) => {
      manager.addPlaylist('testPlaylist', {
        ids: [
          'test1',
          'test2',
          'test3',
        ],
        loop: 2,
        callback(events) {
          console.log(events);
        },
      });

      manager.panelRegister(sounds[0]);
      document.body.appendChild(manager.generateAudioPanelElement());
      clicky.addEventListener('click', () => {
        manager.playPlaylist('testPlaylist');
      });
    });
    </script>
  </body>
</html>